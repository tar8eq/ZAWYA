<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title> ZAWIA STORE </title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&amp;display=swap" rel="stylesheet"/>
<style>
    body {
      font-family: 'Tajawal', sans-serif;
      margin: 0;
      background-color: #ffe9f0; /* Ù„ÙˆÙ† Ø²Ù‡Ø±ÙŠ Ø®ÙÙŠÙ */
      direction: rtl;
    }
    header {
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      padding: 12px;
      background-color: #ffffff;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      user-select: none;
      color: #002060;
    }
    #tabs {
      display: flex;
      gap: 10px;
      justify-content: center;
      padding: 10px 0;
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      user-select: none;
      flex-wrap: wrap;
    }
    .tab {
      cursor: pointer;
      padding: 8px 18px;
      background-color: #f0f4ff;
      border-radius: 12px;
      font-weight: bold;
      color: #002A6C;
      user-select: none;
      transition: background-color 0.3s;
      white-space: nowrap;
    }
    .tab.active {
  border-bottom: 3px solid #2e4dff;
  color: #2e4dff;
  background-color: #e6ebff;
}

    #shops-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      padding: 16px;
      justify-content: center;
      max-width: 960px;
      margin: 0 auto 60px;
    }
    .shop-card {
      background-color: white;
      border-radius: 15px;
      padding: 14px;
      box-shadow: 0 0 8px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s;
      color: #002060;
    }
    .shop-card:hover {
      transform: scale(1.04);
    }
    .shop-img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .shop-name {
      font-size: 18px;
      font-weight: bold;
      margin: 10px 0 6px;
      text-align: center;
      color: #002A6C;
    }
#shops-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 16px;
  padding: 16px;
}


    #products-page {
      display: none;
      max-width: 960px;
      margin: 0 auto 40px;
      padding: 0 16px;
    }
    #shop-title {
      font-size: 26px;
      font-weight: bold;
      color: #002060;
      text-align: center;
      margin-bottom: 18px;
      user-select: none;
    }
    #subcategories {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      justify-content: center;
      margin-bottom: 24px;
      user-select: none;
    }
    .subcategory {
      background-color: #f0f4ff;
      padding: 10px 22px;
      border-radius: 16px;
      cursor: pointer;
      font-weight: bold;
      color: #002A6C;
      white-space: nowrap;
      transition: background-color 0.3s;
    }
    .subcategory.active {
  background-color: #002A6C; /* Ù„ÙˆÙ† Ø¯Ø§ÙƒÙ† */
  color: white;
}



    #products-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 18px;
      justify-content: center;
    }
    .product-card {
      background-color: white;
      border-radius: 15px;
      padding: 16px 12px 18px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      user-select: none;
      cursor: default;
      transition: transform 0.15s ease-in-out;
      min-height: 350px;
      color: #002060;
    }
    .product-card:hover {
      transform: scale(1.05);
    }
    .product-card img {
  width: 100%;
  height: auto;
  max-height: 140px;
  object-fit: cover;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-bottom: 12px;
}

    .product-name {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 8px;
      color: #002A6C;
      text-align: center;
    }
    .product-price {
      color: #d21f1f;
      font-size: 17px;
      font-weight: 700;
      margin-bottom: 10px;
      user-select: text;
    }
    .sizes {
      display: flex;
      gap: 8px;
      margin-bottom: 14px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .size-btn {
      padding: 6px 12px;
      background-color: #cdd2ff;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      user-select: none;
      font-size: 14px;
      line-height: 1.2;
      min-width: 32px;
      text-align: center;
      transition: background-color 0.3s;
      user-select:none;
    }
    .size-btn.selected {
      background-color: #2e4dff;
      color: white;
    }
    .add-to-cart-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 16px;
      background-color: #2e4dff;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s;
      width: 54px;
      height: 44px;
      margin-top: auto;
    }
    .add-to-cart-btn:hover {
      background-color: #1a32cc;
    }
    .add-to-cart-btn i {
      font-size: 22px;
      pointer-events: none;
    }
#cart-btn {
  font-size: 28px; /* Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„ÙƒØ¨ÙŠØ± */
  /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰ */
}

@media (max-width: 480px) {
  #cart-btn {
    font-size: 40px; /* Ø­Ø¬Ù… Ø£ØµØºØ± Ù„Ù„ØªÙ„ÙÙˆÙ† */
    top: 14px;        /* ØªØ­ÙƒÙ… Ø¨Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ */
    left: 14px;       /* ØªØ­ÙƒÙ… Ø¨Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± */
    padding: 5px 8px; /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø´ÙˆØ© */
  }
}

    #cart-btn {
  position: relative;
  margin-right: 12px; /* Ø¨Ø¯Ù„ left */
  background-color: #2600fb;
  border-radius: 50%;
  padding: 8px;
  font-size: 22px;
  box-shadow: 0 1px 4px rgba(255, 254, 254, 0.1);
  cursor: pointer;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

#cart-count {
  position: absolute;
  top: -8px;
  right: -10px;
  background-color: red;
  color: white;
  font-size: 12px;
  font-weight: bold;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
}

   #cart-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(71, 21, 237, 0.5);
      display: none;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 20px;
      z-index: 2000;
      overflow-y: auto;
      box-sizing: border-box;
    }
    #cart-content {
      background: white;
      width: 400px;
      max-width: 100%;
      max-height: 90vh;
      border-radius: 15px;
      box-shadow: 0 0 12px rgba(0,0,0,0.25);
      display: flex;
      flex-direction: column;
      padding: 18px;
      user-select: none;
      position: relative;
      margin-top: 16px;
    }
    #cart-content h2 {
      margin: 0 0 14px 0;
      text-align: center;
      color: #002060;
    }
    #cart-items {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 14px;
      max-height: 400px;
    }
    .cart-shop-group {
      margin-bottom: 18px;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .cart-shop-group h3 {
      margin: 0 0 8px 0;
      color: #2e4dff;
      font-weight: 700;
      font-size: 18px;
      border-bottom: 2px solid #2e4dff;
      padding-bottom: 4px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 15px;
      color: #002060;
    }
    .cart-item-details {
      flex-grow: 1;
    }
    .cart-item-quantity {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 0 10px;
    }
    .cart-item-quantity button {
      padding: 3px 8px;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      user-select: none;
      border: 1px solid #002A6C;
      border-radius: 8px;
      background: white;
      color: #002A6C;
      transition: background-color 0.2s;
    }
    .cart-item-quantity button:hover {
      background-color: #002A6C;
      color: white;
    }
    .cart-item-remove {
      background: none;
      border: none;
      color: #d21f1f;
      font-weight: bold;
      font-size: 20px;
      cursor: pointer;
      user-select: none;
      padding: 0 6px;
      transition: color 0.3s;
    }
    .cart-item-remove:hover {
      color: #a11616;
    }
    #cart-total {
      font-weight: bold;
      font-size: 18px;
      color: #002060;
      text-align: center;
      margin-bottom: 14px;
      user-select: text;
    }
    #confirm-order-btn {
      background-color: #2e4dff;
      color: white;
      font-weight: bold;
      padding: 12px;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s;
      width: 100%;
      margin-bottom: 10px;
      font-size: 17px;
    }
    #confirm-order-btn:hover {
      background-color: #1a32cc;
    }
    #order-form {
      display: none;
      flex-direction: column;
      gap: 14px;
    }
    #order-form input, #order-form textarea {
      width: 100%;
      padding: 10px 14px;
      border: 1px solid #ccc;
      border-radius: 12px;
      font-size: 16px;
      font-family: 'Tajawal', sans-serif;
      resize: vertical;
      user-select: text;
    }
    #order-form textarea {
      min-height: 70px;
    }
    #order-form button {
      padding: 12px;
      background-color: #2e4dff;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s;
      font-size: 17px;
    }
    #order-form button:hover {
      background-color: #1a32cc;
    }

    @media (max-width: 480px) {
      header {
        font-size: 18px;
      }
      #shops-container {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      }
      #products-container {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      .shop-card {
        padding: 12px;
      }
      .shop-img {
        height: 140px;
      }
      .product-card {
        min-height: 300px;
      }
      .product-card img {
        height: 120px;
      }
      .product-name {
        font-size: 15px;
      }
      .product-price {
        font-size: 16px;
      }
      .size-btn {
        padding: 5px 10px;
        font-size: 13px;
        min-width: 28px;
      }
      .add-to-cart-btn {
        width: 44px;
        height: 36px;
        font-size: 18px;
      }
      .section-title {
    font-size: 18px;
  }
  .subcategory {
    font-size: 14px;
    padding: 6px 12px;
  }
      #cart-content {
        width: 95vw;
        padding: 14px;
        max-height: 85vh;
      }
      #cart-overlay {
        padding: 10px;
        justify-content: flex-start;
        align-items: flex-start;
      }
      #cart-btn {
  font-size: 10px; /* Ø­Ø¬Ù… Ø±Ù…Ø² Ø§Ù„Ø³Ù„Ø© */
  position: relative;
  cursor: pointer;
  user-select: none;
  display: inline-block;
  padding: 4px 8px;
}

#cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  background-color: red;
  color: white;
  font-size: 12px; /* Ø­Ø¬Ù… Ø±Ù‚Ù… Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
  font-weight: bold;
  border-radius: 35%;
  padding: 2px 5px;
  min-width: 10px;
  text-align: center;
  box-sizing: border-box;
}
      
    }
    
  </style>

<style>
  .customer-input {
    width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box;
  }
  #cart-overlay {
    max-height: 80vh;
    overflow-y: auto;
  }
</style>

</head>
<body>
<header style="text-align: center; padding-top: 20px;">
<div class="site-title" style="font-size: 26px; font-weight: bold; color: #002A6C;">ZAWIA STORE</div>
<div onclick="showCart()" style="
    margin-top: 14px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    position: relative;
    background-color: #846cf9;
    color: white;
    border-radius: 30px;
    padding: 8px 16px;
    font-size: 18px;
    font-weight: bold;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    cursor: pointer;
    user-select: none;
  " title="Ø§Ù„Ø³Ù„Ø©">
    ğŸ›’ <span>Ø§Ù„Ø³Ù„Ø©</span>
<!-- Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ù„Ø© ÙŠØ¸Ù‡Ø± ÙÙˆÙ‚ -->
<div id="cart-count" style="
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: red;
      color: white;
      font-size: 12px;
      font-weight: bold;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    ">0</div>
</div>
</header>





<div id="tabs"></div> <!-- Ù‡Ù†Ø§ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø§Ù„ØªØ§Ø¨Ø§Øª) -->
<div id="shops"></div> <!-- Ù‡Ù†Ø§ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª -->
<div id="products"></div> <!-- Ù‡Ù†Ø§ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
<div id="tabs"></div>
<div id="shops-container"></div>
<div id="products-page"><button id="back-to-tabs" style="display: none; margin: 20px auto; padding: 10px 20px; background: #002A6C; color: #fff; border: none; border-radius: 12px; cursor: pointer; font-size: 16px;">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù‚Ø³Ø§Ù…</button>
<!-- Ø­Ø°Ù Ø§Ù„Ø²Ø± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ -->
<div id="shop-title"></div>
<div id="subcategories"></div>
<div id="products-container"></div>
</div>

<button id="back-to-tabs" style="display: none; margin: 20px auto; padding: 6px 18px; background: #002A6C; color: #fff; border: none; border-radius: 12px; cursor: pointer;">
  Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù‚Ø³Ø§Ù…
</button>
<div id="cart-overlay" onclick="closeCart(event)">
<div id="cart-content">
<h2>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h2>
<div id="cart-items"></div>
<div id="cart-total"></div>
<button id="confirm-order-btn" onclick="showOrderForm()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
<form id="order-form">
<input id="name" class="customer-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required="" type="text"/>
<input id="phone" class="customer-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required="" type="tel"/>
<input id="city" class="customer-input" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required="" type="text"/>
<input id="address" class="customer-input" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required="" type="text"/>
<textarea id="notes" class="customer-input" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
<button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
<button onclick="hideOrderForm()" style="background:#888;margin-top:8px;" type="button">Ø¥Ù„ØºØ§Ø¡</button>
</form>
</div>
</div>
<script>
    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const sectionsData = {
      "Ø§Ù„ÙˆÙ„Ø§Ø§Ù†ÙŠ": [
        {key:"Ø·Ø§Ø±Ù‚", name:"Ù…Ø­Ù„ Ø·Ø§Ø±Ù‚", img:"https://glamorous-design.org/wp-content/uploads/2024/10/piclumen-1727956325686.png"},
        
      ],
      "Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµÙ‚Ø±ÙŠ": [
        {key:"Ø¢ÙŠØ©", name:"Ù…Ø­Ù„ Ø¢ÙŠØ©", img:"https://i.pinimg.com/originals/99/af/78/99af78d48b3b6b3eb2f72b88e5a023d9.jpg"}
      ],
      "Ø§Ù„Ù‚Ù†Ø§Ø¹Ø©": [
        {key:"Ø¹Ø¨Ø§Ø¯ÙŠ", name:"Ù…Ø­Ù„ Ø¹Ø¨Ø§Ø¯ÙŠ", img:"https://i.pinimg.com/736x/53/c2/71/53c271221b812b38c9f409e2f60d0ec0.jpg"}
      ],
      "Ø§Ù„Ø²Ù‡ÙŠÙˆÙŠ": [{key:"Ø¹Ù„ÙŠ", name:"Ù…Ø­Ù„ Ø¹Ù„ÙŠ", img:"https://globalprintkw.com/wp-content/uploads/2024/12/%D9%88%D8%A7%D8%AC%D9%87%D8%A7%D8%AA-%D9%85%D8%AD%D9%84%D8%A7%D8%AA-%D8%AA%D8%AC%D8%A7%D8%B1%D9%8A%D8%A9-3d.jpg"}
        
      ]
    };

    // ÙƒÙ„ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø¨Ø£Ù‚Ø³Ø§Ù… Ù…Ø­Ø¯Ø¯Ø©
    const shops = {
      "Ø·Ø§Ø±Ù‚": {
        "Ø±Ø¬Ø§Ù„ÙŠ": [
          {name: "Ù‚Ù…ÙŠØµ Ø±Ø¬Ø§Ù„ÙŠ", price: 150, img: "https://akn-randb.a-cdn.akinoncloud.com/products/2025/04/07/705216/89bdd015-0303-4d01-bb35-5379c33c2ec0_size3840x4740_cropCenter.jpg"}
        ],
        "Ù†Ø³Ø§Ø¦ÙŠ": [
          {name: "ÙØ³ØªØ§Ù† Ø³Ù‡Ø±Ø©", price: 280, img: "https://ksa.aryamoda.com/cdn/shop/collections/85A00DF5-26DF-4D01-A877-2D1DB1E718A2_b57b5c5a-a535-4b44-bcfd-22e9a6a60372.jpg?v=1743668985"}
        ],
        "Ø£Ø·ÙØ§Ù„": [
          {name: "ØªÙŠØ´ÙŠØ±Øª Ø£Ø·ÙØ§Ù„", price: 120, img: "https://matjrah.online/images/4495/image/cache/catalog/1728929951505-024%20Mockup%20man%20copy%202-550x550w.jpg"}
        ],
        "Ø§ÙƒØ³Ø³ÙˆØ§Ø±": [
          {name: "Ù†Ø¸Ø§Ø±Ø§Øª Ø´Ù…Ø³ÙŠØ©", price: 100, img: "https://media.zid.store/e522bdf0-d33c-4702-888b-b644c14371be/f470940f-5ea7-4197-a451-6b91a59dc66e.webp"}
        ]
      },
      "Ø¹Ù„ÙŠ": {
        "Ø±Ø¬Ø§Ù„ÙŠ": [
          {name: "ØªÙŠØ´ÙŠØ±Øª Ø±Ø¬Ø§Ù„ÙŠ", price: 120, img: "https://media.zid.store/thumbs/545fceff-736b-4241-bc4d-3dfa7bd1e02b/84c6bc2b-a78e-48cf-a45a-65d1eeb95a50-thumbnail-1000x1000-70.jpg"}
        ],
        "Ù†Ø³Ø§Ø¦ÙŠ": [
          {name: "ØªÙ†ÙˆØ±Ø©", price: 180, img: "https://m.media-amazon.com/images/I/71YjJz7SfsL._UF1000,1000_QL80_.jpg"}
        ],
        "Ø£Ø·ÙØ§Ù„": [
          {name: "Ø­Ø°Ø§Ø¡ Ø£Ø·ÙØ§Ù„", price: 110, img: "https://cdn.salla.sa/BExZy/5f4d49fb-ccd7-450c-abf9-29646a40153e-1000x1000-TZJo9sZVlTzcvNW8iGtusQgZQMzcBga0ICdk7G0R.jpg"}
        ],
        "Ø§ÙƒØ³Ø³ÙˆØ§Ø±": [
          {name: "Ø³Ø§Ø¹Ø© ÙŠØ¯", price: 140, img: "https://img.youm7.com/ArticleImgs/2019/12/23/86382-%D8%A7%D8%AE%D8%AA%D9%8A%D8%A7%D8%B1-%D8%B3%D8%A7%D8%B9%D8%A9-%D9%8A%D8%AF.jpg"}
        ]
      },
      "Ø¢ÙŠØ©": {
        "Ø±Ø¬Ø§Ù„ÙŠ": [
          {name: "Ø¬Ø§ÙƒÙŠØª", price: 220, img: "https://daraghmeh.com/storage/media/thumbs/UM2n31vceCIPZSnWA1ftTILMDeS6n2fgRtD1rozZ.jpg"}
        ],
        "Ù†Ø³Ø§Ø¦ÙŠ": [
          {name: "Ø¨Ù„ÙˆØ²Ø©", price: 190, img: "https://cdn.salla.sa/ZYnGW/78c9d592-e821-4f63-a1c4-6fe600946df3-456.20437956204x500-3jyc3l4WX3kUr70QiVs2LHX7jgg7zly8umyK326T.jpg"}
        ],
        "Ø£Ø·ÙØ§Ù„": [
          {name: "Ø³Ø±ÙˆØ§Ù„ Ø£Ø·ÙØ§Ù„", price: 130, img: "https://img.bestdealplus.com/ae04/kf/H153654dfe3324a76af70af18481d171cm.jpg"}
        ],
        "Ø§ÙƒØ³Ø³ÙˆØ§Ø±": [
          {name: "Ù‚Ù„Ø§Ø¯Ø©", price: 90, img: "https://seleciajewelry.com/image/catalog/%D8%B3%D9%84%D8%B3%D8%A7%D9%84-%D8%B0%D9%87%D8%A8-%D9%81%D8%B1%D8%A7%D8%B4%D8%A9.jpg"}
        ]
      },
      "Ø¹Ø¨Ø§Ø¯ÙŠ": {
        "Ø±Ø¬Ø§Ù„ÙŠ": [
          {name: "Ø¨Ù†Ø·Ø§Ù„", price: 140, img: "https://cdn.dsmcdn.com/mnresize/600/-/ty1576/product/media/images/prod/PIM/20241003/07/d056da56-59f2-4566-934c-939079699454/1_org_zoom.jpg"}
        ],
        "Ù†Ø³Ø§Ø¦ÙŠ": [
          {name: "Ø¬Ø§ÙƒÙŠØª Ù†Ø³Ø§Ø¦ÙŠ", price: 200, img: "https://cdn.salla.sa/WlgonV/73febb5e-d1a5-4713-8891-ab04b645afb4-1000x1000-X9xiEzBuAVPoptQLOA9rlACqcu9OG3SpcFjccaRn.jpg"}
        ],
        "Ø£Ø·ÙØ§Ù„": [
          {name: "Ù‚Ø¨Ø¹Ø© Ø£Ø·ÙØ§Ù„", price: 95, img: "https://cdn.salla.sa/zoRVK/DHoQK0LQrIfFZU822ikwYoCu4YWRu506yt6th2lP.png"}
        ],
        "Ø§ÙƒØ³Ø³ÙˆØ§Ø±": [
          {name: "Ø­Ø²Ø§Ù…", price: 85, img: "https://cdn-images.farfetch-contents.com/12/57/12/34/12571234_53138585_1000.jpg"}
        ]
      }
    };

    // ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ù…Ø«Ù„Ø§: Ø§Ù„ÙˆÙ„Ø§Ø§Ù†ÙŠØŒ Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµÙ‚Ø±ÙŠØŒ Ø§Ù„Ù‚Ù†Ø§Ø¹Ø©ØŒ Ø§Ù„Ø²Ù‡ÙŠÙˆÙŠØŒ Ø§Ù„Ø¬Ù…ÙŠØ¹)
    const mainSections = Object.keys(sectionsData);
    mainSections.unshift("Ø§Ù„Ø¬Ù…ÙŠØ¹"); // Ù†Ø¶ÙŠÙ Ù‚Ø³Ù… Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©

    // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let currentMainSection = "Ø§Ù„Ø¬Ù…ÙŠØ¹";
    let currentShop = null;
    let currentSubcategory = null;

    // Ø¹Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø­Ø³Ø¨ Ù…Ø­Ù„ + ØµÙ†Ù + Ù…Ù‚Ø§Ø³ (Ù…ÙØªØ§Ø­: shopKey|productName|size)
    let cart = {};

    // Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ÙŠØ¨Ø¯Ø£ Ù…Ù† localStorage Ø£Ùˆ 1
    let orderNumber = Number(localStorage.getItem('orderNumber')) || 1;

    // Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
   function renderTabs() {
  const tabsDiv = document.getElementById("tabs");
  tabsDiv.innerHTML = "";

  mainSections.forEach(sec => {
    const tab = document.createElement("div");
    tab.classList.add("tab");
    if (sec === currentMainSection) tab.classList.add("active");
    tab.textContent = sec;

    tab.onclick = () => {
      currentMainSection = sec;
      currentShop = null;
      renderTabs();
      renderShops();

// ÙØªØ­ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ÙƒØ¨Ø±Ø©
function openImageModal(src) {
  const modal = document.getElementById("image-modal");
  const modalImg = document.getElementById("modal-img");

  if (modal && modalImg) {
    modalImg.src = src;
    modal.style.display = "flex";
  }
}

// ØºÙ„Ù‚ Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("image-modal");
  if (modal) {
    modal.addEventListener("click", () => {
      modal.style.display = "none";
    });
  }
});


      // âœ… Ø¥Ø®ÙØ§Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª ØºÙŠØ± Ø§Ù„Ù„ÙŠ Ù†Ù‚Ø±Ù†Ø§ Ø¹Ù„ÙŠÙ‡
      // Ø¥Ø®ÙØ§Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (Ø§Ù„Ø£Ù‚Ø³Ø§Ù…) Ù„Ù…Ø§ Ù†Ø¯Ø®Ù„ Ù…Ø­Ù„
const allTabs = document.querySelectorAll("#tabs .tab");
allTabs.forEach(tabEl => {
  if (tabEl.textContent !== currentMainSection) {
    tabEl.style.display = "none";
  }
});

// Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù‚Ø³Ø§Ù…
document.getElementById("back-to-tabs").style.display = "block";

    };

    tabsDiv.appendChild(tab);
  });
}
document.getElementById("back-to-tabs").onclick = () => {
  // ØªØ±Ø¬Ø¹ ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
  const allTabs = document.querySelectorAll("#tabs .tab");
  allTabs.forEach(tabEl => {
    tabEl.style.display = "inline-block";
  });

  // ØªØ®ÙÙŠ Ø§Ù„Ù…Ø­Ù„Ø§Øª
  document.getElementById("shops-container").style.display = "none";

  // ØªØ®ÙÙŠ Ø§Ù„Ø²Ø±
  document.getElementById("back-to-tabs").style.display = "none";
};



    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù…
    function renderShops() {
      const container = document.getElementById("shops-container");
      container.innerHTML = "";
      let shopsToShow = [];

      if (currentMainSection === "Ø§Ù„Ø¬Ù…ÙŠØ¹") {
        // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        for (const sec of Object.keys(sectionsData)) {
          shopsToShow = shopsToShow.concat(sectionsData[sec]);
        }
      } else {
        shopsToShow = sectionsData[currentMainSection] || [];
      }

      if (shopsToShow.length === 0) {
        container.innerHTML = `<p style="text-align:center; color:#444;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ù„Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù….</p>`;
        return;
      }

      shopsToShow.forEach(shop => {
        const card = document.createElement("div");
        card.className = "shop-card";
        card.onclick = () => {
          openShop(shop.key, shop.name);
        };

        const img = document.createElement("img");
        img.src = shop.img;
        img.className = "shop-img";
        img.alt = shop.name;

        const name = document.createElement("div");
        name.className = "shop-name";
        name.textContent = shop.name;

        card.appendChild(img);
        card.appendChild(name);
        container.appendChild(card);
      });
    }

    // Ø§ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù…Ø­Ù„ Ù…Ø¹ÙŠÙ†
   function openShop(shopKey, shopName) {
  currentShop = shopKey;
  currentSubcategory = null;

  // Ù†Ø®ÙÙŠ Ø§Ù„Ù…Ø­Ù„Ø§Øª
  document.getElementById("shops-container").style.display = "none";

  // Ù†Ø¸Ù‡Ø± ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  document.getElementById("products-page").style.display = "block";
  document.getElementById("shop-title").textContent = shopName;

  // Ù†Ø±Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ© ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª
  renderSubcategories();
  renderProducts();

  // âœ… Ù†Ø®ÙÙŠ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (Ø§Ù„Ø£Ù‚Ø³Ø§Ù…)
  const allTabs = document.querySelectorAll("#tabs .tab");
  allTabs.forEach(tabEl => {
    if (tabEl.textContent !== currentMainSection) {
      tabEl.style.display = "none";
    }
  });

  // âœ… Ù†Ø¸Ù‡Ø± Ø²Ø± "Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù‚Ø³Ø§Ù…"
  document.getElementById("back-to-tabs").style.display = "block";
}
document.getElementById("back-to-tabs").onclick = () => {
  // 1. Ù†Ø¸Ù‡Ø± ÙƒÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (Ø§Ù„Ø£Ù‚Ø³Ø§Ù…)
  const allTabs = document.querySelectorAll("#tabs .tab");
  allTabs.forEach(tabEl => {
    tabEl.style.display = "inline-block";
  });

  // 2. Ù†Ø¸Ù‡Ø± Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
  document.getElementById("shops-container").style.display = "grid";
  renderShops();

  // 3. Ù†Ø®ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  document.getElementById("products-page").style.display = "none";

  // 4. Ù†Ø®ÙÙŠ Ø§Ù„Ø²Ø±
  document.getElementById("back-to-tabs").style.display = "none";
};


function backToMain() {
  currentShop = null;
  currentSubcategory = null;
  document.getElementById("products-page").style.display = "none";
  document.getElementById("shops-container").style.display = "grid";

  // Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„ØªØ§Ø¨Ø§Øª Ø¸Ø§Ù‡Ø±Ø©
  document.getElementById("tabs").style.display = "flex";

  // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  document.getElementById("home-btn").style.display = "none";
}


    // Ø¹Ø±Ø¶ Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø±Ø¬Ø§Ù„ÙŠØŒ Ù†Ø³Ø§Ø¦ÙŠØŒ Ø£Ø·ÙØ§Ù„ØŒ Ø§ÙƒØ³Ø³ÙˆØ§Ø±)
    function renderSubcategories() {
      const subcatDiv = document.getElementById("subcategories");
      subcatDiv.innerHTML = "";
      if (!currentShop) return;

      const categories = Object.keys(shops[currentShop] || {});
      categories.forEach(cat => {
        const div = document.createElement("div");
        div.className = "subcategory";
        if (cat === currentSubcategory || (!currentSubcategory && categories.indexOf(cat) === 0)) {
          div.classList.add("active");
          currentSubcategory = cat;
        }
        div.textContent = cat;
        div.onclick = () => {
          currentSubcategory = cat;
          renderSubcategories();
          renderProducts();
        };
        subcatDiv.appendChild(div);
      });
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
function renderProducts() {
  const container = document.getElementById("products-container");
  container.innerHTML = "";

  if (!currentShop || !currentSubcategory) return;

  const products = shops[currentShop][currentSubcategory] || [];

  if (products.length === 0) {
    container.innerHTML = `<p style="text-align:center; color:#444;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù….</p>`;
    return;
  }

  products.forEach(product => {
    const card = document.createElement("div");
    card.className = "product-card";

    const img = document.createElement("img");
    img.src = product.img;
    img.alt = product.name;
    img.style.cursor = "pointer";
    img.onclick = () => openImageModal(product.img);  // ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø©

    const name = document.createElement("div");
    name.className = "product-name";
    name.textContent = product.name;

    const price = document.createElement("div");
    price.className = "product-price";
    price.textContent = product.price + " Ø¯.Ù„";

    // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª
    const sizesDiv = document.createElement("div");
    sizesDiv.className = "sizes";
    ["S", "M", "L", "XL"].forEach(size => {
      const sizeBtn = document.createElement("div");
      sizeBtn.className = "size-btn";
      sizeBtn.textContent = size;
      sizeBtn.onclick = () => {
        const prevSelected = sizesDiv.querySelector(".selected");
        if (prevSelected) prevSelected.classList.remove("selected");
        sizeBtn.classList.add("selected");
      };
      sizesDiv.appendChild(sizeBtn);
    });

    // Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
    const addBtn = document.createElement("button");
    addBtn.className = "add-to-cart-btn";
    addBtn.title = "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©";
    addBtn.innerHTML = "ğŸ›’";
    addBtn.onclick = () => {
      const selectedSize = sizesDiv.querySelector(".size-btn.selected");
      if (!selectedSize) {
        alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³");
        return;
      }
      addToCart(currentShop, product, selectedSize.textContent);
    };

    // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
    card.appendChild(img);
    card.appendChild(name);
    card.appendChild(price);
    card.appendChild(sizesDiv);
    card.appendChild(addBtn);

    container.appendChild(card);
  });
}

    

    // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø© - ÙƒÙ„ Ù…Ø­Ù„ Ù„Ù‡ Ø³Ù„Ø© Ù…Ø³ØªÙ‚Ù„Ø© (Ù…ÙØªØ§Ø­: shop|product|size)
    function addToCart(shopKey, product, size) {
      const key = `${shopKey}|${product.name}|${size}`;
      if (cart[key]) {
        cart[key].quantity++;
      } else {
        cart[key] = {
          shopKey,
          shopName: sectionsDataFindShopName(shopKey),
          productName: product.name,
          price: product.price,
          size,
          quantity: 1
        };
      }
      updateCartCount();
      alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©");
    }

    // Ù…Ø³Ø§Ø¹Ø¯Ø©: Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„ Ù…Ù† key
    function sectionsDataFindShopName(shopKey) {
      for (const sec of Object.keys(sectionsData)) {
        for (const shop of sectionsData[sec]) {
          if (shop.key === shopKey) return shop.name;
        }
      }
      return shopKey; // Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¬Ø¯ Ø§Ù„Ø§Ø³Ù…
    }

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø©
    function updateCartCount() {
      const count = Object.values(cart).reduce((a,b) => a + b.quantity, 0);
      document.getElementById("cart-count").textContent = count;
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©
    function showCart() {
      if (Object.keys(cart).length === 0) {
        alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
        return;
      }
      renderCartItems();
      document.getElementById("cart-overlay").style.display = "flex";
      hideOrderForm();
    }

    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø³Ù„Ø© Ø¥Ø°Ø§ Ø¶ØºØ· Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
    function closeCart(e) {
      if (e.target === document.getElementById("cart-overlay")) {
        document.getElementById("cart-overlay").style.display = "none";
        hideOrderForm();
      }
    }

    // Ø¹Ø±Ø¶ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ù„Ø© Ù…Ø¹ ØªÙ‚Ø³ÙŠÙ… Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­Ù„Ø§Øª
    function renderCartItems() {
      const container = document.getElementById("cart-items");
      container.innerHTML = "";

      // ØªØ¬Ù…ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­Ù„
      const shopsInCart = {};
      for (const key in cart) {
        const item = cart[key];
        if (!shopsInCart[item.shopKey]) shopsInCart[item.shopKey] = {shopName: item.shopName, items: []};
        shopsInCart[item.shopKey].items.push({...item, key});
      }

      let totalAll = 0;

      for (const shopKey in shopsInCart) {
        const groupDiv = document.createElement("div");
        groupDiv.className = "cart-shop-group";

        const title = document.createElement("h3");
        title.textContent = shopsInCart[shopKey].shopName;
        groupDiv.appendChild(title);

        let totalShop = 0;

        shopsInCart[shopKey].items.forEach(item => {
          const itemDiv = document.createElement("div");
          itemDiv.className = "cart-item";

          const details = document.createElement("div");
          details.className = "cart-item-details";
          details.textContent = `${item.productName} - Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}`;

          const qtyDiv = document.createElement("div");
          qtyDiv.className = "cart-item-quantity";

          const minusBtn = document.createElement("button");
          minusBtn.textContent = "-";
          minusBtn.onclick = () => {
            if (item.quantity > 1) {
              cart[item.key].quantity--;
            } else {
              delete cart[item.key];
            }
            updateCartCount();
            renderCartItems();
          };

          const qtyText = document.createElement("span");
          qtyText.textContent = item.quantity;

          const plusBtn = document.createElement("button");
          plusBtn.textContent = "+";
          plusBtn.onclick = () => {
            cart[item.key].quantity++;
            updateCartCount();
            renderCartItems();
          };

          const removeBtn = document.createElement("button");
          removeBtn.className = "cart-item-remove";
          removeBtn.title = "Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬";
          removeBtn.textContent = "Ã—";
          removeBtn.onclick = () => {
            delete cart[item.key];
            updateCartCount();
            renderCartItems();
          };

          qtyDiv.appendChild(minusBtn);
          qtyDiv.appendChild(qtyText);
          qtyDiv.appendChild(plusBtn);

          itemDiv.appendChild(details);
          itemDiv.appendChild(qtyDiv);
          itemDiv.appendChild(removeBtn);

          groupDiv.appendChild(itemDiv);

          totalShop += item.price * item.quantity;
        });

        const totalShopDiv = document.createElement("div");
        totalShopDiv.style.textAlign = "right";
        totalShopDiv.style.fontWeight = "bold";
        totalShopDiv.style.marginTop = "8px";
        totalShopDiv.style.color = "#002060";
        totalShopDiv.textContent = `Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${totalShop.toFixed(2)} Ø¯.Ù„`;
        groupDiv.appendChild(totalShopDiv);

        container.appendChild(groupDiv);

        totalAll += totalShop;
      }

      const totalAllDiv = document.getElementById("cart-total");
      totalAllDiv.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: ${totalAll.toFixed(2)} Ø¯.Ù„`;
    }

    // Ø§Ø¸Ù‡Ø§Ø± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨
    function showOrderForm() {
      if (Object.keys(cart).length === 0) {
        alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
        return;
      }
      document.getElementById("order-form").style.display = "flex";
      document.getElementById("confirm-order-btn").style.display = "none";
    }

    // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨
    function hideOrderForm() {
      document.getElementById("order-form").style.display = "none";
      document.getElementById("confirm-order-btn").style.display = "block";
      document.getElementById("order-form").reset();
    }

    // Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
    async function sendTelegramMessages(orderData) {
      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨ÙˆØª ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ù„ÙƒÙ„ Ù…Ø­Ù„
      const shopsTokens = {
        "Ø·Ø§Ø±Ù‚": "YOUR_TELEGRAM_BOT_TOKEN_1",
        "Ø¹Ù„ÙŠ": "YOUR_TELEGRAM_BOT_TOKEN_2",
        "Ø¢ÙŠØ©": "YOUR_TELEGRAM_BOT_TOKEN_3",
        "Ø¹Ø¨Ø§Ø¯ÙŠ": "YOUR_TELEGRAM_BOT_TOKEN_4"
      };

      // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Øª Ù„ÙƒÙ„ Ù…Ø­Ù„
      const chatIds = {
        "Ø·Ø§Ø±Ù‚": "YOUR_CHAT_ID_1",
        "Ø¹Ù„ÙŠ": "YOUR_CHAT_ID_2",
        "Ø¢ÙŠØ©": "YOUR_CHAT_ID_3",
        "Ø¹Ø¨Ø§Ø¯ÙŠ": "YOUR_CHAT_ID_4"
      };

      // Ø¥Ø±Ø³Ø§Ù„ Ù„ÙƒÙ„ Ù…Ø­Ù„ Ø·Ù„Ø¨Ù‡
      for (const shopKey in orderData) {
        if (!orderData.hasOwnProperty(shopKey)) continue;

        const token = shopsTokens[shopKey];
        const chatId = chatIds[shopKey];
        if (!token || !chatId) {
          console.warn(`Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø£Ùˆ Ø§Ù„Ø´Ø§Øª Ù„Ù…Ø­Ù„: ${shopKey}`);
          continue;
        }

        const shopOrder = orderData[shopKey];
        const itemsText = shopOrder.items.map(item =>
          `- ${item.productName} - Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size} - Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity} - Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ: ${item.price} Ø¯.Ù„`
        ).join("\n");

        const totalPrice = shopOrder.items.reduce((a,b) => a + b.price * b.quantity, 0);

        const message = `
ğŸ›’ Ø·Ù„Ø¨ÙŠØ© Ø±Ù‚Ù…: ${orderNumber}
ğŸ¬ Ø§Ù„Ù…Ø­Ù„: ${sectionsDataFindShopName(shopKey)}
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${shopOrder.customer.name}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${shopOrder.customer.phone}
ğŸ™ï¸ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${shopOrder.customer.city}
ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${shopOrder.customer.address}
ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${shopOrder.customer.notes || "Ù„Ø§ ØªÙˆØ¬Ø¯"}

ğŸ“¦ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:
${itemsText}

ğŸ’° Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø±: ${totalPrice.toFixed(2)} Ø¯.Ù„
        `;

const telegramToken = "7860582198:AAHRrpCCr83B1X1O7BGHebRUc-5h9VaPDBk"; // ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª
const telegramChatId = "355888174"; // Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…

async function testSendTelegramMessage() {
  const telegramToken = "7860582198:AAHRrpCCr83B1X1O7BGHebRUc-5h9VaPDBk";
  const telegramChatId = "355888174";
  const message = "Ø±Ø³Ø§Ù„Ø© Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±";

  try {
    const response = await fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        chat_id: telegramChatId,
        text: message
      })
    });

    const data = await response.json();
    console.log("Response from Telegram (test):", data);

    if (!data.ok) {
      alert("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©: " + data.description);
      return false;
    }
    alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­");
    return true;
  } catch (error) {
    alert("ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©: " + error.message);
    return false;
  }
}



async function confirmOrder(customerData, cartItems) {
  if (!customerData.name || !customerData.phone || !customerData.city || !customerData.address) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
    return;
  }
  if (cartItems.length === 0) {
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
    return;
  }

  let message = `ğŸ›’ <b>Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</b>\n\n`;
  message += `<b>Ø§Ù„Ø§Ø³Ù…:</b> ${customerData.name}\n`;
  message += `<b>Ø§Ù„Ù‡Ø§ØªÙ:</b> ${customerData.phone}\n`;
  message += `<b>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</b> ${customerData.city}\n`;
  message += `<b>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</b> ${customerData.address}\n`;
  message += `<b>Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</b> ${customerData.notes || "Ù„Ø§ ØªÙˆØ¬Ø¯"}\n\n`;

  message += `<b>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:</b>\n`;
  let total = 0;
  cartItems.forEach((item, idx) => {
    const itemTotal = item.price * item.quantity;
    total += itemTotal;
    message += `${idx + 1}. ${item.productName} - Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size} - Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity} - Ø§Ù„Ø³Ø¹Ø±: ${item.price} Ø¯.Ù„ - Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${itemTotal} Ø¯.Ù„\n`;
  });
  message += `\n<b>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ:</b> ${total} Ø¯.Ù„`;

  const success = await sendTelegramMessage(message);
  if(success) {
    alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­");
    // Ø§Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ù‡Ù†Ø§ Ø£Ùˆ Ù‚Ù… Ø¨Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
  }
}

// Ù…Ø«Ø§Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨":
document.getElementById("order-form").onsubmit = async function(e) {
  e.preventDefault();

  if (Object.keys(cart).length === 0) {
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
    return;
  }
  const customerData = {
    name: document.getElementById("name").value.trim(),
    phone: document.getElementById("phone").value.trim(),
    city: document.getElementById("city").value.trim(),
    address: document.getElementById("address").value.trim(),
    notes: document.getElementById("notes").value.trim()
  };
  
  
  // cartItems: Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©ØŒ Ù…Ø«Ø§Ù„:
  // [{productName: "ØªÙŠØ´ÙŠØ±Øª", size: "M", quantity: 2, price: 120}, ...]
  const cartItems = getCartItemsSomehow(); // Ù„Ø§Ø²Ù… ØªØ¹Ø±Ù‘Ù ÙƒÙŠÙ ØªØ¬ÙŠØ¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯Ùƒ

  confirmOrder(customerData, cartItems);
}


        // Ù†Ø±Ø³Ù„ Ø·Ù„Ø¨ http
        await fetch(url);
      }
      
    }

    document.getElementById("order-form").onsubmit = async function(e) {
      e.preventDefault();

      if (Object.keys(cart).length === 0) {
        alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
        return;
      }

      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†
      const customer = {
        name: document.getElementById("name").value.trim(),
        phone: document.getElementById("phone").value.trim(),
        city: document.getElementById("city").value.trim(),
        address: document.getElementById("address").value.trim(),
        notes: document.getElementById("notes").value.trim()
      };

      if (!customer.name || !customer.phone || !customer.city || !customer.address) {
        alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
        return;
      }

      // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­Ù„Ø§Øª
      const orderData = {};
  for (const key in cart) {
    const item = cart[key];
    if (!orderData[item.shopKey]) {
      orderData[item.shopKey] = { customer, items: [] };
    }
    orderData[item.shopKey].items.push(item);
  }
      try {
        await sendTelegramMessages(orderData);
        alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­. Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${orderNumber}`);
        cart = {};
        updateCartCount();
        renderCartItems();
        hideOrderForm();
        document.getElementById("cart-overlay").style.display = "none";

        // Ø²ÙŠØ§Ø¯Ø© Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ÙˆØ­ÙØ¸Ù‡
        orderNumber++;
        localStorage.setItem('orderNumber', orderNumber);
      } catch (err) {
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨");
        console.error(err);
      }
      
    };
    

    // Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    function showMainPage() {
      document.getElementById("products-page").style.display = "none";
      document.getElementById("shops-container").style.display = "grid";
      document.getElementById("tabs").style.display = "flex";
    }

    renderTabs();
    renderShops();
    
    
  </script>
<style>
.img-popup {
  cursor: pointer;
  transition: 0.3s;
}

.img-popup:hover {
  opacity: 0.7;
}

#imgModal {
  display: none;
  position: fixed;
  z-index: 1000;
  padding-top: 60px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.8);
}

#imgModalContent {
  margin: auto;
  display: block;
  max-width: 90%;
  max-height: 90%;
}

</style>
<!-- Ù†Ø§ÙØ°Ø© ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø© -->
<div id="image-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:1000;">
<img id="modal-img" src="" style="max-width:90%; max-height:90%; border-radius:12px; box-shadow:0 0 12px rgba(0,0,0,0.5);"/>
</div>
<!-- Ù†Ø§ÙØ°Ø© ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø© -->
<div id="image-modal" style="
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.8);
  justify-content: center;
  align-items: center;
  z-index: 9999;
">
<img id="modal-img" style="
    max-width: 90%;
    max-height: 90%;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,0,0,0.6);
  "/>
</div>
<div id="image-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:9999;"><button id="close-modal-btn" style="position:absolute; top:20px; left:20px; background:#fff; border:none; font-size:28px; border-radius:50%; width:40px; height:40px; cursor:pointer;">Ã—</button><img id="modal-img" style="max-width:90%; max-height:80%; border-radius:12px;"/></div><script>
// ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø©
function openImageModal(src) {
  const modal = document.getElementById("image-modal");
  const modalImg = document.getElementById("modal-img");
  modalImg.src = src;
  modal.style.display = "flex";
}

// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø²Ø± Ø£Ùˆ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡Ø§
document.getElementById("image-modal").addEventListener("click", function(e) {
  if (e.target.id === "image-modal" || e.target.id === "close-modal-btn") {
    this.style.display = "none";
  }
});

// ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ Ø³Ù„ÙŠÙ…
document.getElementById("order-form").addEventListener("submit", function(e) {
  e.preventDefault();
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();

  if (!name || !phone) {
    alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");
    return;
  }

  alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
  this.reset();
  document.getElementById("cart-overlay").style.display = "none";
});
</script>
<script>
let orderNumber = parseInt(localStorage.getItem('orderNumber') || '1');

async function sendTelegramMessages(orderData) {
  const token = "7860582198:AAHRrpCCr83B1X1O7BGHebRUc-5h9VaPDBk";
  const chatId = "355888174";

  for (const shopKey in orderData) {
    const shopOrder = orderData[shopKey];
    const itemsText = shopOrder.items.map(item =>
      `- ${item.productName} - Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size} - Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity} - Ø§Ù„Ø³Ø¹Ø±: ${item.price} Ø¯.Ù„`
    ).join("\n");

    const total = shopOrder.items.reduce((sum, item) => sum + item.price * item.quantity, 0);

    const message = `
ğŸ›’ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${orderNumber}
ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${shopOrder.customer.name}
ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${shopOrder.customer.phone}
ğŸ™ï¸ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${shopOrder.customer.city}
ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${shopOrder.customer.address}
ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${shopOrder.customer.notes || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}

ğŸ“¦ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:
${itemsText}

ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total.toFixed(2)} Ø¯.Ù„
    `;

    await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id: chatId, text: message })
    });
  }
}

document.getElementById("order-form").onsubmit = async function(e) {
  e.preventDefault();

  if (Object.keys(cart).length === 0) {
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
    return;
  }

  const customer = {
    name: document.getElementById("name").value.trim(),
    phone: document.getElementById("phone").value.trim(),
    city: document.getElementById("city").value.trim(),
    address: document.getElementById("address").value.trim(),
    notes: document.getElementById("notes").value.trim()
  };

  if (!customer.name || !customer.phone || !customer.city || !customer.address) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
    return;
  }

  const orderData = {};
  for (const key in cart) {
    const item = cart[key];
    if (!orderData[item.shopKey]) {
      orderData[item.shopKey] = { customer, items: [] };
    }
    orderData[item.shopKey].items.push(item);
  }

  try {
    await sendTelegramMessages(orderData);
    alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­. Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${orderNumber}`);
    orderNumber++;
    localStorage.setItem('orderNumber', orderNumber);

    cart = {};
    updateCartCount();
    renderCartItems();
    hideOrderForm();
    document.getElementById("cart-overlay").style.display = "none";
  } catch (err) {
    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨");
    console.error(err);
  }
}
</script>

</body>
</html>